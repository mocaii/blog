import React, { useState, useEffect } from "react";

const BackToTop: React.FC = () => {
  const [isVisible, setIsVisible] = useState(false);

  const scrollToTop = () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  };

  const handleScroll = () => {
    if (window.pageYOffset > 200) {
      setIsVisible(true);
    } else {
      setIsVisible(false);
    }
  };

  useEffect(() => {
    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    isVisible && (
      <button
        className="back-to-top"
        onClick={scrollToTop}
        style={{
          position: "fixed",
          bottom: "20px",
          right: "20px",
          zIndex: 9999,
          backgroundColor: "#333",
          color: "#fff",
          border: "none",
          borderRadius: "5px",
          padding: "10px",
          cursor: "pointer",
        }}
      >
        <svg
          t="1727091028856"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="8336"
          data-spm-anchor-id="a313x.search_index.0.i0.76893a81t58Bbf"
          width="32"
          height="32"
        >
          <path
            d="M527.019 176.922c-3.98-3.987-9.385-6.225-15.02-6.225s-11.037 2.237-15.022 6.225l-154.8 154.795c-8.295 8.295-8.295 21.745 0 30.04 8.3 8.295 21.747 8.295 30.042 0l139.78-139.775 139.77 139.775c4.15 4.15 9.59 6.225 15.025 6.225s10.875-2.075 15.025-6.225c8.295-8.295 8.295-21.745 0-30.04L527.019 176.922 527.019 176.922z"
            fill="#ffffff"
            p-id="8337"
          ></path>
          <path
            d="M149.2992 525.70112l133.91872 0 0 26.28096-47.88224 0 0 241.5616c0 28.55936-14.76096 42.83904-44.27776 42.83904-12.24192 0-22.08256-0.24064-29.52192-0.72192-1.19808-11.03872-3.1232-21.71904-5.76-32.04096 11.03872 2.64192 22.43584 3.95776 34.2016 3.95776 11.52 0 17.28-5.51936 17.28-16.55808l0-239.04256L149.2992 551.97696 149.2992 525.70112zM376.82176 635.14112l27.71968 0 0 39.59808c0 29.99808-3.24096 55.56224-9.71776 76.68224 40.56064 25.92256 77.52192 51.35872 110.87872 76.31872l-20.16256 24.12032c-32.15872-26.63936-65.87904-51.84-101.16096-75.60192-2.40128 4.80256-5.03808 9.11872-7.92064 12.95872-19.92192 27.36128-54.35904 48.72192-103.3216 64.08192-4.56192-7.92064-10.32192-16.55808-17.28-25.92256 45.35808-12.95872 77.39904-30.96064 96.11776-54.00064 16.55808-21.60128 24.84224-54.24128 24.84224-97.92L376.81664 635.14112zM294.02112 591.58016l67.31776 0 10.08128-48.59904L290.05824 542.98112l0-25.92256 214.55872 0 0 25.92256-104.0384 0-11.52 48.59904 99.35872 0 0 172.4416L460.6976 764.02176l0-146.51904L321.7408 617.50272l0 147.95776-27.71968 0L294.02112 591.58016z"
            fill="#ffffff"
            p-id="8338"
          ></path>
          <path
            d="M519.74144 639.09888l115.2 0c14.27968-24.71936 25.92256-47.27808 34.9184-67.68128l26.63936 13.68064c-10.43968 18.24256-21.53984 36.23936-33.30048 54.00064l62.8224 0 0 24.12032-206.27968 0L519.74144 639.09888zM527.66208 544.06144l89.99936 0c-4.67968-10.79808-11.76064-24.00256-21.23776-39.59808l24.84224-11.52c10.79808 18.00192 18.47808 32.27648 23.04 42.83904l-17.6384 8.27904 92.88192 0 0 24.12032-191.88224 0L527.6672 544.06144zM545.65888 700.66176l155.52 0 0 146.51904-26.63936 0 0-26.63936-102.24128 0 0 26.99776-26.63936 0L545.65888 700.66176zM551.7824 586.90048l21.95968-13.32224c12.00128 17.03936 22.92224 34.07872 32.75776 51.11808l-24.47872 14.03904C574.58176 623.62112 564.50048 606.34112 551.7824 586.90048zM674.53952 724.78208l-102.24128 0 0 70.92224 102.24128 0L674.53952 724.78208zM874.7008 729.82016c0 41.28256-16.19968 63.60064-48.59904 66.95936-12.24192 1.43872-28.55936 0.96256-48.96256-1.43872-1.19808-8.64256-2.75968-19.2-4.67968-31.68256 17.52064 2.88256 32.52224 4.32128 44.99968 4.32128 21.12 0 30.72-14.52032 28.8-43.56096-0.96256-25.68192-19.31776-51.95776-55.08096-78.83776 15.60064-30.96064 31.44192-65.39776 47.51872-103.3216l-73.44128 0 0 307.08224-27.36128 0 0-333.7216 129.60256 0 0 29.52192c-9.35936 24.23808-23.87968 55.68-43.56096 94.32064C857.7792 665.86112 874.7008 695.98208 874.7008 729.82016z"
            fill="#ffffff"
            p-id="8339"
          ></path>
        </svg>
      </button>
    )
  );
};

export default BackToTop;
